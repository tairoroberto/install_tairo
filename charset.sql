Conn / as sysdba
set feedback off
set verify off
set serveroutput on
set termout on
exec dbms_output.put_line('Starting build select of columns to be altered');
drop table semantics$
/
create table semantics$(s_owner varchar2(40),
s_table_name varchar2(40),
s_column_name varchar2(40),
s_data_type varchar2(40),
s_char_length number)
/
insert into semantics$
select C.owner, C.table_name, C.column_name, C.data_type, C.char_length
from all_tab_columns C, all_tables T
where C.owner = T.owner
and T.owner in
('SCOTT')
-- All Oracle provided users
and C.table_name = T.table_name
and C.char_used = 'B'
-- only need to look for tables who are not yet CHAR semantics.
and T.partitioned != 'YES'
-- exclude partitioned tables
and C.table_name not in (select table_name from all_external_tables)
and C.data_type in ('VARCHAR2', 'CHAR')
-- You can exclude or include tables or shema's as you wish, by adjusting
-- "and T.owner not in" as per your requirements
/
commit
/
declare
cursor c1 is select * from semantics$;
v_statement varchar2(255);
v_nc number(10);
v_nt number(10);
begin
execute immediate
'select count(*) from semantics$' into v_nc;
execute immediate
'select count(distinct s_table_name) from semantics$' into v_nt;
dbms_output.put_line
('ALTERing ' || v_nc || ' columns in ' || v_nt || ' tables');
for r1 in c1 loop
v_statement := 'ALTER TABLE ' || r1.s_owner || '.' || r1.s_table_name;
v_statement := v_statement || ' modify (' || r1.s_column_name || ' ';
v_statement := v_statement || r1.s_data_type || '(' || r1.s_char_length;
v_statement := v_statement || ' CHAR))';
execute immediate v_statement;
end loop;
dbms_output.put_line('Done');
end;
/







ZAN_M03 TAB_CONTROLE_NFE ZAN_M02 SYS_EXPORT_FULL_01 ZAN_M01 TAB_MERCADORIA ZAN_M37 ZAN_M00 ZAN_1TRA ZAN_M28 TAB_MERCADORIA_TIPO_VENDA ZAN_M04 ZAN_M36 TAB_LOGFILE TAB_CONTROLE_LOTE_NFE TAB_NOTA_HEADER ZAN_M10 TAB_PRODUTO TAB_MOVIMENTO_TESOURARIA TAB_NOTA_ITEM SYS_IMPORT_FULL_01 TAB_TROCA_ITEM_DEV TAB_TROCA ZAN_M43 TAB_TROCA_VALE ZAN_CTRM TAB_CLIENTE ZAN_M05 ZAN_M06 ZAN_M46 TAB_CARGA_PDV TAB_IBPT_ITEM ZAN_M45 TAB_EVENTOS_NFE TAB_EVENTO_LOTE_NFE TAB_PDV TAB_PRODUTO_IMAGEM TAB_NOTIFICACAO ZAN_ARQUIVOS_PDV TAB_PARAMETRO_VALOR TAB_PROC_ARQ_LOG ZAN_DEFM TAB_MENSAGEM_ERRO TAB_MUNICIPIO TAB_CARGA_LOJA TAB_CLIENTE_COMPLEMENTO TAB_VALOR_COMBO ZAN_M44 TAB_IMPORTA_EXPORTA TAB_PARAMETRO PERMISSAO SYS_EXPORT_SCHEMA_01 TAB_ARQ18 TAB_ERRO_NFE TAB_MONITORA_PUSH_PDV TAB_PARAMETRO_GERAL TAB_REGISTRO_INDEVIDO_ITENS TAB_TEXTO_LINHA HISTORICO TAB_COMBO TAB_DEF_TXT_ITEM TAB_DICA TAB_EMPRESA TAB_ETIQUETA_ITEM TAB_FECHAMENTO TAB_FLUXO_FINANCEIRO TAB_FUNCIONARIO TAB_HELP TAB_LICENCA_USO TAB_LOJA_IMAGEM TAB_MOV_TES_SALDO_CX TAB_MOV_TES_SALDO_CX_FIN TAB_NOTA_PAGAMENTOS TAB_PARAM_NOTA TAB_PLANO_CONTA_SPED TAB_REGISTRO_INDEVIDO TAB_RELACIONAMENTO TAB_RELATORIO_PC TAB_WIZARD_ATRIBUTO TAB_WIZARD_PERGUNTAS FAVORITOS MENU TAB_ALGORITMO TAB_AUXILIO_NFE_PDV TAB_BALANCA_TIPO TAB_BANCO TAB_CEDULA TAB_CENTRO_CUSTO TAB_CERTIFICADO_DIGITAL TAB_CLIENTE_CATEGORIA TAB_CLIENTE_END TAB_CODIGO TAB_CODIGO_FISCAL TAB_CONTADORES_PDV TAB_CONTA_CORRENTE TAB_CONTROLE_VERSAO TAB_DEF_TXT TAB_DEF_TXT_TIPO TAB_DEPARTAMENTO TAB_ENDERECO TAB_ERRO_EVTO TAB_EST_CAD_LOCAL TAB_EST_CAD_TIPO TAB_EST_LANCAMENTO TAB_EST_LANCAMENTO_ITEM TAB_EST_LOJA_LOCAL TAB_EST_MIN_MAX TAB_EST_PRODUTO_LOCAL TAB_ETIQUETA TAB_FECHAMENTO_DETALHE TAB_FINALIZADORA TAB_FINALIZADORA_DOCUMENTO TAB_FINALIZADORA_PAF TAB_FORNECEDOR TAB_FORNECEDOR_BANCO TAB_FORNECEDOR_END TAB_FORNECEDOR_INFO TAB_FORNECEDOR_LOJA TAB_FORNECEDOR_VENDEDOR TAB_FUNCAO TAB_FUNCIONARIO_DEPARTAMENTO TAB_GERACAO_ARQUIVOS TAB_GIFTCARD TAB_GIFTCARD_PARAMETRO TAB_GIFTCARD_TIPO TAB_GRUPO_FUNCAO TAB_GRUPO_LOJA TAB_GRUPO_NOTIFICACAO TAB_GRUPO_PARAMETRO TAB_GRUPO_PARAMETRO_GERAL TAB_GRUPO_USUARIO TAB_HISTORICO_PADRAO TAB_IBPT TAB_ICMS_INTERESTADUAL_NOTA TAB_INTEGRADORES TAB_INTERPRETA_TEXTO TAB_INUTILIZACAO_NFE TAB_KERNEL TAB_LISTA_PDV TAB_LOCALIZA_CFOP TAB_LOJA TAB_MERCADORIA_TIPO_VENDA_QTDE TAB_MOEDA TAB_MOTIVOS TAB_MOTIVOS_SUBCATEGORIA TAB_MOTIVO_REGISTRO_INDEVIDO TAB_MOTIVO_TROCA TAB_MOVIMENTACAO_BANCARIA TAB_NOTA_PARCEIRO TAB_NOTA_PARCEIRO_ITEM TAB_NOTIFICACAO_ASSOCIACAO TAB_NOTIFICACAO_ASSOC_GRUPO TAB_NOVAPROMOCAO TAB_OBSERVACAO_FISCAL TAB_OPERACAO_BANCARIA TAB_ORGAO_INSTITUICAO TAB_ORGAO_INSTITUICAO_END TAB_ORGAO_INSTITUICAO_FIN TAB_ORGAO_INSTITUICAO_LOJA TAB_PAGAMENTO_RECEBIMENTO TAB_PAGAMENTO_RECEBIMENTO_DOC TAB_PAGAMENTO_RECEBIMENTO_VALO TAB_PAIS TAB_PERFIL TAB_PERFIL_FUNCAO TAB_PERFIL_FUNCIONARIO TAB_PERFIL_GRUPO_FUNCAO TAB_PERIFERICO TAB_PERIFERICO_ITEM TAB_PLANO TAB_PLANO_CONTA_GERENCIAL TAB_PLANO_FINALIZADORA TAB_PLANO_FINANCEIRO TAB_PLANO_FINANCEIRO_PARCELAS TAB_PROC_ARQ TAB_PROMOCAO_LOJA TAB_PROMOCAO_PRODUTO TAB_PROMOCAO_TPVENDA TAB_REDE_BANDEIRA TAB_REEMBOLSO_CLIENTE TAB_REEMBOLSO_CLIENTE_FINAL TAB_REEMBOLSO_CLIENTE_ITENS TAB_REGISTRO_INDEVIDO_FINAL TAB_REGRAS_ICMS TAB_REL_DINAMICO TAB_REL_USUARIO TAB_SAT TAB_SERVICO TAB_SERVIDOR TAB_SITUACAO_NFE TAB_TECLAS_EVENTOS TAB_TEMPLATES_TOUCH TAB_TESTE TAB_TESTE_UPDATE TAB_TEXTO TAB_TIPO_AGENDA_DADOS TAB_TIPO_EMISSAO_NFE TAB_TIPO_FINALIDADE_NFE TAB_TIPO_MOV_TESOURARIA TAB_TRANSPORTADORA TAB_TRANSPORTADORA_BANCO TAB_TRANSPORTADORA_END TAB_TRANSPORTADORA_LOJA TAB_TRIBUTACAO_PDV TAB_UF TAB_USUARIOS_LOGADOS TAB_VASILHAME TAB_VASILHAME_ITEM TAB_VEICULO TAB_VERSAO_MOBILE TAB_VOUCHER_PROMOCIONAL TAB_VOUCHER_PROMOCIONAL_LOJA TAB_WIZARD_ACAO TAB_arq18 TAB_texto USUARIO_LOJA ZAN_ENDERECO_PEDIDO ZAN_M20 ZAN_M23 ZAN_M24 ZAN_PEDIDO ZAN_PEDIDO_FINALIZ ZAN_PEDIDO_ITEM ZAN_PEDIDO_ITEM_LOG ARQUIVOFRENTELOJA FUNCAO GRUPOPERMISSAO REGIONAL REGIONAL_LOJA TAB_AGENDA TAB_AGENDAMENTO TAB_AGENDAMENTO_DETALHE TAB_AGENDAMENTO_LOJA TAB_AGENDAMENTO_PDV TAB_AGENDA_DADOS TAB_ASSUNTO TAB_ATRIBUTO TAB_BAIXADORZ TAB_BALANCA_LOJA TAB_BALANCA_LOJA_NOME TAB_CADASTRO_FUNCAO TAB_CAMPOS_FORMULARIO_COLETA TAB_CAMPO_ETIQUETA TAB_CANAL_VENDA TAB_CANAL_VENDA_TIPO TAB_CATEGORIAS_GRUPO TAB_CEP_LOG_BAIRRO TAB_CEP_LOG_CPC TAB_CEP_LOG_FAIXA_BAIRRO TAB_CEP_LOG_FAIXA_CPC TAB_CEP_LOG_FAIXA_LOCALIDADE TAB_CEP_LOG_FAIXA_UF TAB_CEP_LOG_FAIXA_UOP TAB_CEP_LOG_GRANDE_USUARIO TAB_CEP_LOG_LOCALIDADE TAB_CEP_LOG_LOGRADOURO TAB_CEP_LOG_NUM_SEC TAB_CEP_LOG_UNID_OPER TAB_CEP_LOG_VAR_BAI TAB_CEP_LOG_VAR_LOC TAB_CEP_LOG_VAR_LOG TAB_CHAVE_DE_PARA TAB_CHEQUE TAB_CLIENTE_CARGA TAB_CLIENTE_CONTA TAB_CLIENTE_CONVENIO TAB_CNF_LOGICO TAB_CNF_PDV TAB_CODIGO_PROMOCIONAL TAB_COEFICIENTE TAB_COLETOR_LAYOUT TAB_COLETOR_LAYOUT_ITEM TAB_COLUNA TAB_COMANDO TAB_CONFERENCIA_PARCEIRO TAB_CONFERENCIA_PARCEIRO_ITEM TAB_CONFERENCIA_VENDA TAB_CONFERENCIA_VENDA_ITEM TAB_CONTABILISTA TAB_CONTABILISTA_END TAB_CONTROLE_ARQUIVOS TAB_CONTROLE_RPS TAB_CRM_INTERESSE TAB_CRM_INTERESSE_CLIENTE TAB_CRM_INTERESSE_PRODUTO TAB_CUPOM_PROMOCIONAL TAB_DEPARTAMENTO_TIPO_VENDA TAB_DETALHE_ATRIBUTO TAB_DE_PARA TAB_DIARIO TAB_DICIONARIO_DADOS TAB_EMPENHO TAB_ENVIO_ARQUIVOS_FISCAIS TAB_ENVIO_GENERICO TAB_ENVIO_GENERICO_CHAVE TAB_ENVIO_GENERICO_ITEM TAB_EST_MOVIMENTO TAB_ETIQUETA_LOG TAB_FAIXA_DEPARTAMENTO TAB_FAIXA_DEPARTAMENTO_ITEM TAB_FAIXA_MERCADORIA TAB_FAIXA_MERCADORIA_ITEM TAB_FAMILIA_PRODUTO TAB_FEBRABAN TAB_FECHAMENTO_CAIXA TAB_FIDELIDADE TAB_FIDELIDADE_CATEGORIA TAB_FIDELIDADE_HISTORICO TAB_FIDELIDADE_LOJA TAB_FIDELIDADE_MERCADORIA TAB_FINALIZADORA_AUTENTICA TAB_FIN_LOGICA TAB_FIN_PDV TAB_FORMULARIO_COLETA TAB_FUNCIONARIO_BIOMETRIA TAB_FUNCIONARIO_CANAL TAB_GARANTIA_EXTENDIDA TAB_GARANTIA_EXTENDIDA_OPCAO TAB_GIFTCARD_HISTORICO TAB_GIFTCARD_LOGFILE TAB_GIFTCARD_TABELA TAB_GIFT_TERCEIROS TAB_GRUPO_CATEGORIA_CLIENTE TAB_GRUPO_INFORMACAO TAB_GRUPO_INFORMACAO_ITEM TAB_GRUPO_OPCAO TAB_GRUPO_OPCAO_PLANO TAB_ICMS_INTERESTADUAL TAB_ICMS_UF_DESTINO TAB_INTEGRADORES_MUNICIPIO TAB_INTERFACE TAB_INTERPRETA_TEF TAB_INVENTARIO TAB_INVENTARIO_ITEM TAB_LIBERACAO TAB_LISTA TAB_LISTA_EVENTOS TAB_LISTA_EVENTOS_END TAB_LISTA_EVENTOS_ITENS TAB_LISTA_REGRAS TAB_LOG_ENVIO_LOTE_NFE TAB_LOG_MOBILE TAB_LOG_USUARIO TAB_MERCADORIA_FORNECEDOR TAB_MERCADORIA_LOTE TAB_MERCADORIA_SERIE TAB_MERCADORIA_TIPO_VENDA_EXC TAB_MERCADORIA_TIPO_VENDA_PESO TAB_META TAB_MOTIVO_REEMBOLSO_CLIENTE TAB_MOV_CONTA_GERENCIAL TAB_MOV_TES_PROCESSADO TAB_NETPOINTS TAB_NOTA_PARCEIRO_PAGTOS TAB_NOTA_TRANSP TAB_NUTRICIONAL TAB_OCORRENCIA TAB_PARAMETRO_ETIQUETA TAB_PARAM_LOJA TAB_PEDIDO_COMPRA TAB_PEDIDO_COMPRA_ITEM TAB_PEDIDO_COMPRA_LOJA TAB_PERFIL_EQUIPAMENTO TAB_PERFIL_EQUIPAMENTO_OPCOES TAB_PERFIL_EQUIPAMENTO_PDV TAB_PERIFERICO_VALOR TAB_PILOTO_AUTOMATICO TAB_PILOTO_LOJA TAB_PLANO_DEPARTAMENTO TAB_PLANO_MERCADORIA TAB_PRECO TAB_PREMIO TAB_PREMIO_CONCEDIDO TAB_PREMIO_X_LOJA TAB_PREMIO_X_TIPO_VENDA TAB_PRODUTO_ACESSO TAB_PRODUTO_ATRIBUTO TAB_PRODUTO_COD_BARRAS TAB_PRODUTO_DECOMPOSICAO TAB_PRODUTO_DECOMPOSICAO_INSUM TAB_PRODUTO_SAIDA_TEMP TAB_PRODUTO_SERVICO TAB_PRODUTO_SUGERIDO TAB_PROMOCAO TAB_PROMOCAO_CAT_CLIENTE TAB_PROMOCAO_CLIENTE TAB_PROMOCAO_CLIENTE_LOJA TAB_PROMOCAO_CLIENTE_PRODUTO TAB_PROMOCAO_DEPTO TAB_PROMOCAO_FAIXA TAB_PROMOCAO_FAIXA_BONUS TAB_PROMOCAO_GRUPO TAB_PROMOCAO_LOGFILE TAB_PROXIMO_CODIGO TAB_RECARGA_MTU TAB_RECEITA TAB_REGISTRO_13 TAB_REGRAS_MENUS TAB_RELACIONA_CNF TAB_RELACIONA_FIN TAB_RELATORIO_DIMENSAO TAB_RELATORIO_DIMENSAO_REL TAB_RELATORIO_DIMENSAO_TAB TAB_REL_DINAMICO_CAMPO TAB_REL_DINAMICO_FILTRO TAB_REL_DINAMICO_NOVO TAB_REL_DINAMICO_PERFIL TAB_REL_DINAMICO_USUARIO TAB_SERVICO_LOJA TAB_SERVICO_TABELA TAB_SERVICO_TABELA_PRECO TAB_SERVICO_VENDA TAB_SINCRONISMO TAB_TECLA TAB_TECLAS_TEMPLATES_TOUCH TAB_TERMINAL_CONSULTA TAB_TIPO_MOV_TESOURARIA_FIN TAB_TIPO_MOV_TESOURARIA_LANC TAB_TRAFEGO_CLI TAB_TRANSPORTADORA_VEICULO TAB_TRATAMENTO_VENDA_ESPECIAL TAB_TROCA_ITEM TAB_VALE_COMPRA TAB_VALORES_DE_PARA TAB_VASILHAME_ITEM_BAIXA TAB_VERSAO_PDV TAB_VERSAO_PDV_ARQUIVO TAB_VERSAO_PDV_LOG TAB_VOUCHER_PROMOCIONAL_PROD TAB_Y ZAN_COMANDA ZAN_COMANDA_ITEM ZAN_LOCAL_SAIDA_MERCADORIA ZAN_M051 ZAN_M061 ZAN_M07 ZAN_M08 ZAN_M09 ZAN_M11 ZAN_M13 ZAN_M18 ZAN_M19 ZAN_M21 ZAN_M22 ZAN_M25 ZAN_M26 ZAN_M27 ZAN_M32 ZAN_M33 ZAN_M34 ZAN_M35 ZAN_M38 ZAN_M39 ZAN_M40 ZAN_M42 ZAN_M47 ZAN_M48 ZAN_M49 ZAN_M50 ZAN_M51 ZAN_M52 ZAN_M99 ZAN_PEDIDO_ITEM_INFO ZAN_PEDIDO_ITEM_SERVICO ZAN_PEDIDO_SERVICO